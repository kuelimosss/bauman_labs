# Ð›Ð°Ð±Ð¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð° â„–9 â€œÐœÐ°Ñ‚Ñ€Ð¸Ñ†Ñ‹, Ñ‡Ð°ÑÑ‚ÑŒ 2â€
# Ð¨Ð°Ð³Ð°ÐµÐ² ÐÐ½Ð´Ñ€ÐµÐ¹ Ð˜Ð£7-14Ð‘
# Ð—Ð°Ð´Ð°Ñ‡Ð° 1: Ð”Ð°Ð½Ñ‹ Ð´Ð²Ð° Ð¾Ð´Ð½Ð¾Ð¼ÐµÑ€Ð½Ñ‹Ñ… Ñ†ÐµÐ»Ð¾Ñ‡Ð¸ÑÐ»ÐµÐ½Ð½Ñ‹Ñ… Ð¼Ð°ÑÑÐ¸Ð²Ð° A Ð¸ B. 
# Ð¡Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¼Ð°Ñ‚Ñ€Ð¸Ñ†Ñƒ M, Ñ‚Ð°ÐºÑƒÑŽ Ñ‡Ñ‚Ð¾ ð‘šð‘–ð‘— = ð‘Žð‘– * ð‘ð‘—
# ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»Ð¸Ñ‚ÑŒ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¿Ð¾Ð»Ð½Ñ‹Ñ… ÐºÐ²Ð°Ð´Ñ€Ð°Ñ‚Ð¾Ð² Ð² ÐºÐ°Ð¶Ð´Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐµ Ð¼Ð°Ñ‚Ñ€Ð¸Ñ†Ñ‹. 
# Ð—Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð² Ð¼Ð°ÑÑÐ¸Ð² S. ÐÐ°Ð¿ÐµÑ‡Ð°Ñ‚Ð°Ñ‚ÑŒ Ð¼Ð°Ñ‚Ñ€Ð¸Ñ†Ñƒ M Ð² Ð²Ð¸Ð´Ðµ Ð¼Ð°Ñ‚Ñ€Ð¸Ñ†Ñ‹ Ð¸ Ñ€ÑÐ´Ð¾Ð¼ ÑÑ‚Ð¾Ð»Ð±ÐµÑ† S.

A = list(map(int,input("Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ ÑÐ¿Ð¸ÑÐºÐ° Ñ‡ÐµÑ€ÐµÐ· Ð¿Ñ€Ð¾Ð±ÐµÐ»: ").split()))
while not A:
    print('Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¿ÑƒÑÑ‚Ñ‹Ð¼')
    A = list(map(int,input("Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ ÑÐ¿Ð¸ÑÐºÐ° Ñ‡ÐµÑ€ÐµÐ· Ð¿Ñ€Ð¾Ð±ÐµÐ»: ").split()))

B = list(map(int,input("Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ ÑÐ¿Ð¸ÑÐºÐ° Ñ‡ÐµÑ€ÐµÐ· Ð¿Ñ€Ð¾Ð±ÐµÐ»: ").split()))
while not B:
    print('Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¿ÑƒÑÑ‚Ñ‹Ð¼')
    B = list(map(int,input("Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ ÑÐ¿Ð¸ÑÐºÐ° Ñ‡ÐµÑ€ÐµÐ· Ð¿Ñ€Ð¾Ð±ÐµÐ»: ").split()))

output_place = 0
for i in range(len(A)):
    if len(str(A[i])) > output_place:
        output_place = len(str(A[i]))
for i in range(len(B)):
    if len(str(B[i])) > output_place:
        output_place = len(str(B[i]))   
matrix = []
S=[]
for i in range(len(A)):
    row =[]
    count = 0
    for j in range(len(B)):
        el = A[i] * B[j]
        row.append(el)
        if ((el)**0.5) % 1 == 0:
            count += 1
    S.append(count)
    matrix.append(row)

for i,row in enumerate(matrix):
    for elem in row:
        print("{:>{}d}".format(elem,output_place+2),end=' ')
    print('|| ',S[i],)
print('----------------------------')

